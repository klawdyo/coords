function pr(a){console.log(a)}var coords={init:function(b,a){var c=this;this.initialOptions=this.options(a);document.querySelectorAll(b).forEach(function(d){c.makeAllEverythingAndOthers(d)});return this},makeAllEverythingAndOthers:function(e){var c=this.initialOptions;e.style.display="none";var b=e.getAttribute("name");var d=this.options.showIcon?"coords-show-icon-map":"";var a=document.createElement("DIV");a.className="coords-container "+d+" ";e.parentNode.insertBefore(a,e.nextSibling);if(c.showSign==true){this.createSelect(a,b,"signal",["","+","-"])}this.createElement(a,b,"degrees",c.degreeIndicator);if(c.minutes==true||c.seconds==true){this.createElement(a,b,"minutes",c.minuteIndicator)}if(c.seconds==true){this.createElement(a,b,"seconds",c.secondIndicator)}if(c.showCompassDirection==true){this.createSelect(a,b,"compass",["","E","N","S","W"])}this.setInitialValues(e)},createElement:function(d,e,a,b){var c=document.createElement("INPUT");c.setAttribute("type","text");c.setAttribute("data-coords-type",a);c.setAttribute("name",e+"_coords_"+a);c.setAttribute("class","coords-input coords-"+a);d.appendChild(c);this.eventsHandler(c);var f=document.createElement("SPAN");f.setAttribute("class","coords-indicator coords-"+a);f.innerHTML=b;d.appendChild(f)},createSelect:function(c,d,b,g){var a=document.createElement("SELECT");a.setAttribute("name",d+"_"+b);a.setAttribute("class","coords-select coords-"+b);a.setAttribute("data-coords-type",b);c.appendChild(a);for(var f=0;f<g.length;f++){var e=document.createElement("option");e.innerHTML=g[f];e.value=g[f];a.appendChild(e)}this.eventsHandler(a)},batchValues:function(c,a){var d=this.parse(a);if(d.length<6){return false}var b=c.nextSibling.children;for(i=0;i<b.length;i++){switch(b[i].getAttribute("data-coords-type")){case"signal":b[i].value=d.signal;break;case"compass":b[i].value=d.compass;break;case"degrees":b[i].value=Number.isInteger(d.degrees)===true?d.degrees:d.degrees.toFixed(this.initialOptions.decimalPlaces);break;case"minutes":b[i].value=Number.isInteger(d.minutes)===true?d.minutes:d.minutes.toFixed(this.initialOptions.decimalPlaces);break;case"seconds":b[i].value=Number.isInteger(d.seconds)===true?d.seconds:d.seconds.toFixed(this.initialOptions.decimalPlaces);break}}return true},setInitialValues:function(a){if(typeof a=="object"&&a.tagName=="INPUT"&&a.value!==""){this.batchValues(a,a.value);this.calculateWidths(a)}},calculateWidths:function(c){if(this.initialOptions.recalculateWidth!==true){return}var b=this.initialOptions.pixelsBychars||8;var a=c.nextSibling.children;for(i=0;i<a.length;i++){if(a[i].getAttribute("class").search("coords-input")!==-1){a[i].style.width=((a[i].value.length+1)*b)+"px"}else{if(a[i].getAttribute("class").search("coords-select")!==-1){a[i].style.width="35px"}}}},eventsHandler:function(b){var a=this;b.addEventListener("paste",function(c){a.onPaste(c,a)});b.addEventListener("focus",function(c){a.onFocus(c,a)});b.addEventListener("keydown",function(c){a.onKeydown(c,a)});b.addEventListener("change",function(c){a.onChange(c,a)})},onChange:function(f,c){var d=f.target.parentNode;var b=d.children;var e=d.previousSibling;var a="";for(i=0;i<b.length;i++){if(b[i].tagName=="INPUT"||b[i].tagName=="SELECT"){a+=(typeof b[i].value=="undefined"?"0":b[i].value)+" "}}e.setAttribute("value",c.stringToDecimal(a))},onKeydown:function(b,a){if(b.target.tagName=="INPUT"){a.calculateWidths(b.target.parentNode.previousSibling)}},onFocus:function(b,a){b.stopPropagation();b.preventDefault();if(b.target.tagName=="INPUT"){b.target.select()}},onPaste:function(d,b){var c,a;d.stopPropagation();d.preventDefault();c=d.clipboardData||window.clipboardData;a=c.getData("Text");if(b.batchValues(d.target.parentNode.previousSibling,a)===false){alert("O texto \n\n"+a+"\n\nNão é uma coordenada válida")}b.calculateWidths(d)},initialOptions:{spaces:true,degrees:true,minutes:true,seconds:true,degreeIndicator:"°",minuteIndicator:"'",secondIndicator:'"',showSign:false,showCompassDirection:true,decimalSeparator:".",decimalPlaces:5,recalculateWidth:true,pixelsBychars:8,},options:function(a){if(typeof a=="undefined"){return this.initialOptions}a.degrees=true;if(a.minutes==false){a.seconds=false}a=Object.assign({},this.initialOptions,a);return a},normalize:function(a){a=a.replace(/\s{2,}/g," ");a=a.replace(/[°˚⁰∘◦॰ºo]+/g,"°");a=a.replace(/['ʹʼˈ׳′ꞌ]{1}/g,"'");a=a.replace("''",'"');a=a.replace(/["„“”]+/g,'"');a=a.replace(/\,+/g,".");return a},parse:function(e){e=this.normalize(e);var f=/([NEWS]{1}|[-+]{1})?\s*([0-9,\.]+\s*°?)\s*([0-9,\.]+\s*'?)?\s*([0-9,\.]+\s*"?)?\s*([NEWS]{1})?/i;var d=f.exec(e);if(d==null){return false}var b=["N","E","W","S"];var j=b.indexOf(d[1])!==-1?d[1].toUpperCase():(b.indexOf(d[5])!==-1?d[5]:false);var g=d[1]=="-"||["S","W"].indexOf(j)!==-1?"-":"+";var a=typeof d[2]!=="undefined"?parseFloat(d[2]):0;var c=typeof d[3]!=="undefined"?parseFloat(d[3]):0;var h=typeof d[4]!=="undefined"?parseFloat(d[4]):0;if(c===0&&h===0&&(a!==parseInt(a))){c=(a-parseInt(a))*60;a=parseInt(a)}if(h===0&&(c!==parseInt(c))){h=(c-parseInt(c))*60;c=parseInt(c)}return{signal:g,compass:j,degrees:a,minutes:c,seconds:h,}},stringToDecimal:function(a){return this.convert(a,{degrees:true,minutes:false,seconds:false,showSign:true,spaces:false,degreeIndicator:"",showCompassDirection:false})},convert:function(a,b){return this.parseObjectToString(this.parse(a),b)},inputToString:function(c,d){c=(typeof c=="string")?document.querySelector(c):c;d=this.options(d);if(c.tagName!=="INPUT"){console.log('"input" parameter isn\'t a valid input object');return false}var e=c.nextSibling;var b=e.children;var a="";for(i=0;i<b.length;i++){if(b[i].tagName=="INPUT"){a+=(b[i].value==""?0:b[i].value)}else{if(b[i].tagName=="SELECT"&&b[i].value!==""){a+=b[i].value}else{continue}}a+=" "}return this.convert(a,d)},parseObjectToString:function(c,b){var d=this.options(b);if(d.seconds==false){c.minutes=c.minutes+(c.seconds/60);c.seconds=false}if(d.minutes==false){c.degrees=c.degrees+(c.minutes/60);c.minutes=false}var a=d.spaces?" ":"";return((d.showSign?c.signal+a:"")+c.degrees+d.degreeIndicator+(d.minutes==true?a+c.minutes+d.minuteIndicator:"")+(d.seconds==true?a+c.seconds+d.secondIndicator:"")+(d.showCompassDirection&&c.compass?a+c.compass:"")).replace(/[,\.]+/g,d.decimalSeparator).trim()},};if(window.jQuery){jQuery.fn.extend({coords:function(a){coords.init(this.selector,a);return this},});$(function(){})};